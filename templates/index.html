{% extends "base.html" %}
{% block page_title %}Feed de Publicaciones{% endblock %}

{% block content %}
<div class="feed-header">
  <h2 class="section-title">Publicaciones Recientes</h2>
  <span class="count-badge">{{ posts|length }} posts</span>
</div>

<div class="feed-grid">
  {% for post in posts %}
  <article class="card" style="--delay: {{ loop.index0 * 0.04 }}s">
    <div class="card-top">
      <div class="avatar-circle">{{ post.userId }}</div>
      <div class="card-meta">
        <span class="card-user">Usuario #{{ post.userId }}</span>
        <span class="card-id">POST {{ post.id }}</span>
      </div>
    </div>
    <h3 class="card-title">{{ post.title }}</h3>
    <p class="card-body">{{ post.body[:120] }}…</p>
    <div class="card-tags">
      {% for tag in post.tags[:3] %}
      <span class="tag">#{{ tag }}</span>
      {% endfor %}
    </div>
    <div class="card-footer">
      <div class="reactions">
        <span class="reaction-item like">♥ {{ post.reactions.likes if post.reactions else 0 }}</span>
        <span class="reaction-item dislike">↓ {{ post.reactions.dislikes if post.reactions else 0 }}</span>
      </div>
      <a href="/post/{{ post.id }}" class="btn-detail">Ver más →</a>
    </div>
  </article>
  {% endfor %}
</div>
{% endblock %}